import { InvalidAddressError as c } from "./index129.js";
import { stringToBytes as m } from "./index133.js";
import { keccak256 as p } from "./index135.js";
import { LruMap as u } from "./index204.js";
import { isAddress as $ } from "./index156.js";
const s = /* @__PURE__ */ new u(8192);
function h(t, o) {
  if (s.has(`${t}.${o}`))
    return s.get(`${t}.${o}`);
  const i = t.substring(2).toLowerCase(), n = p(m(i), "bytes"), e = i.split("");
  for (let r = 0; r < 40; r += 2)
    n[r >> 1] >> 4 >= 8 && e[r] && (e[r] = e[r].toUpperCase()), (n[r >> 1] & 15) >= 8 && e[r + 1] && (e[r + 1] = e[r + 1].toUpperCase());
  const f = `0x${e.join("")}`;
  return s.set(`${t}.${o}`, f), f;
}
function w(t, o) {
  if (!$(t, { strict: !1 }))
    throw new c({ address: t });
  return h(t, o);
}
export {
  h as checksumAddress,
  w as getAddress
};
