import { wait as l } from "./index201.js";
function p(a, { emitOnBegin: e, initialWaitTime: w, interval: i }) {
  let n = !0;
  const t = () => n = !1;
  return (async () => {
    let o;
    e && (o = await a({ unpoll: t }));
    const u = await w?.(o) ?? i;
    await l(u);
    const c = async () => {
      n && (await a({ unpoll: t }), await l(i), c());
    };
    c();
  })(), t;
}
export {
  p as poll
};
