import { stringToBytes as i } from "./index133.js";
import { encodeLabelhash as h } from "./index275.js";
import { labelhash as f } from "./index132.js";
function y(s) {
  const o = s.replace(/^\.|\.$/gm, "");
  if (o.length === 0)
    return new Uint8Array(1);
  const e = new Uint8Array(i(o).byteLength + 2);
  let t = 0;
  const l = o.split(".");
  for (let r = 0; r < l.length; r++) {
    let n = i(l[r]);
    n.byteLength > 255 && (n = i(h(f(l[r])))), e[t] = n.length, e.set(n, t + 1), t += n.length + 1;
  }
  return e.byteLength !== t + 1 ? e.slice(0, t + 1) : e;
}
export {
  y as packetToBytes
};
