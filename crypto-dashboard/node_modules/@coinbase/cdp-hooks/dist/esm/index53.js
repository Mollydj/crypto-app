import { encodeEventTopics as b } from "./index161.js";
import { numberToHex as m } from "./index134.js";
import { createFilterRequestScope as h } from "./index238.js";
async function l(r, { address: p, args: a, event: e, events: c, fromBlock: n, strict: f, toBlock: i } = {}) {
  const o = c ?? (e ? [e] : void 0), u = h(r, {
    method: "eth_newFilter"
  });
  let t = [];
  o && (t = [o.flatMap((d) => b({
    abi: [d],
    eventName: d.name,
    args: a
  }))], e && (t = t[0]));
  const s = await r.request({
    method: "eth_newFilter",
    params: [
      {
        address: p,
        fromBlock: typeof n == "bigint" ? m(n) : n,
        toBlock: typeof i == "bigint" ? m(i) : i,
        ...t.length ? { topics: t } : {}
      }
    ]
  });
  return {
    abi: o,
    args: a,
    eventName: e ? e.name : void 0,
    fromBlock: n,
    id: s,
    request: u(s),
    strict: !!f,
    toBlock: i,
    type: "event"
  };
}
export {
  l as createEventFilter
};
