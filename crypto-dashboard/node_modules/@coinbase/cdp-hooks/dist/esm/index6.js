import { createSpendPermission as i } from "@coinbase/cdp-core";
import "./index2.js";
import { useSendHookCallOnce as p } from "./index25.js";
import { useState as d } from "react";
import { useCurrentUser as S, useWaitForUserOperation as O, useEnforceAuthenticated as f } from "./index5.js";
import { validateUserOwnsSmartAccount as v } from "./index28.js";
const k = () => {
  p("use_create_spend_permission");
  const { currentUser: r } = S(), [n, o] = d(
    void 0
  ), { data: a, error: c, status: m } = O(n);
  return { createSpendPermission: f(
    async (e) => {
      v({ account: e.evmSmartAccount, user: r });
      const u = r, t = e.evmSmartAccount ?? u.evmSmartAccountObjects[0].address, s = await i({ ...e, evmSmartAccount: t });
      return o({
        userOperationHash: s.userOperationHash,
        evmSmartAccount: t,
        network: e.network
      }), s;
    }
  ), data: a, error: c, status: m };
};
export {
  k as useCreateSpendPermission
};
