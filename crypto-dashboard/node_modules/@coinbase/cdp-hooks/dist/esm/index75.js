import { TransactionNotFoundError as u } from "./index118.js";
import { numberToHex as s } from "./index134.js";
import { formatTransaction as f } from "./index141.js";
async function B(e, { blockHash: a, blockNumber: r, blockTag: i, hash: o, index: n }) {
  const m = i || "latest", d = r !== void 0 ? s(r) : void 0;
  let t = null;
  if (o ? t = await e.request({
    method: "eth_getTransactionByHash",
    params: [o]
  }, { dedupe: !0 }) : a ? t = await e.request({
    method: "eth_getTransactionByBlockHashAndIndex",
    params: [a, s(n)]
  }, { dedupe: !0 }) : t = await e.request({
    method: "eth_getTransactionByBlockNumberAndIndex",
    params: [d || m, s(n)]
  }, { dedupe: !!d }), !t)
    throw new u({
      blockHash: a,
      blockNumber: r,
      blockTag: m,
      hash: o,
      index: n
    });
  return (e.chain?.formatters?.transaction?.format || f)(t);
}
export {
  B as getTransaction
};
