import { submitMfaEnrollment as s } from "@coinbase/cdp-api-client";
import { Analytics as u } from "./index.native2.js";
import "./index.native3.js";
import { toAuthStateUser as i } from "./index.native42.js";
import { withAuth as f } from "./index.native43.js";
import { mockUser as l } from "./index.native46.js";
import { validateUserAuthState as c } from "./index.native51.js";
import { getConfig as o, getCoreAuthManager as h } from "./index.native37.js";
const S = async (e) => {
  if (u.sendActionCallEvent({ name: "submit_mfa_enrollment" }), o().useMock)
    return {
      user: l
    };
  const t = h(), { authState: a } = c(t.getUser(), t.getAuthState()), m = await f({}, t, async ({ user: n }) => s(o().projectId, n.userId, e.mfaMethod, {
    mfaCode: e.mfaCode
  })), r = i(m.endUser);
  return await t.setAuthState({ ...a, user: r }), { user: r };
};
export {
  S as submitMfaEnrollment
};
