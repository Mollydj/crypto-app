import "@coinbase/cdp-api-client";
const a = (t) => ({
  userId: t.userId,
  // Deprecated fields - keep for backward compatibility
  evmAccounts: t.evmAccounts?.map((c) => c) ?? [],
  evmSmartAccounts: t.evmSmartAccounts?.map((c) => c) ?? [],
  solanaAccounts: t.solanaAccounts?.map((c) => c) ?? [],
  // New account object fields
  evmAccountObjects: t.evmAccountObjects,
  evmSmartAccountObjects: t.evmSmartAccountObjects,
  solanaAccountObjects: t.solanaAccountObjects,
  authenticationMethods: t.authenticationMethods.reduce((c, o) => (c[o.type] = o, c), {}),
  mfaMethods: t.mfaMethods
}), s = (t, c, o) => {
  const e = new Date(c).getTime();
  return {
    accessToken: t,
    expiresAt: e,
    user: a(o)
  };
};
export {
  s as toAuthState,
  a as toAuthStateUser
};
