import { initiateAuthentication as e } from "@coinbase/cdp-api-client";
import { Analytics as o } from "./index.native2.js";
import "./index.native3.js";
import { getPlatformOAuth as n } from "./index.native8.js";
import { getCoreAuthManager as r, getConfig as a } from "./index.native37.js";
async function g(t) {
  if (o.sendActionCallEvent({ name: "link_oauth" }), !await r().isSignedIn())
    throw new Error("User must be signed in to link an OAuth account");
  const i = await e(a().projectId, {
    type: t,
    redirectUrl: n().getRedirectUrl()
  });
  if (!("authUrl" in i))
    throw new Error(`Failed to initiate ${t} authentication`);
  n().initiateOAuthFlow(i.authUrl);
}
export {
  g as linkOAuth
};
