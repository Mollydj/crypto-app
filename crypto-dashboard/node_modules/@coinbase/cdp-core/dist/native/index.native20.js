import { initiateAuthentication as e } from "@coinbase/cdp-api-client";
import { Analytics as n } from "./index.native2.js";
import "./index.native3.js";
import { getPlatformOAuth as i } from "./index.native8.js";
import { getCoreAuthManager as r, getConfig as o } from "./index.native37.js";
async function g() {
  if (n.sendActionCallEvent({ name: "link_apple" }), !await r().isSignedIn())
    throw new Error("User must be signed in to link an Apple account");
  const t = await e(o().projectId, {
    type: "apple",
    redirectUrl: i().getRedirectUrl()
  });
  if (!("authUrl" in t))
    throw new Error("Failed to initiate Apple authentication");
  i().initiateOAuthFlow(t.authUrl);
}
export {
  g as linkApple
};
