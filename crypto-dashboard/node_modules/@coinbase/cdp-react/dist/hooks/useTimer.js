import { useState as f, useRef as l, useCallback as c, useEffect as o } from "react";
const I = () => {
  const [i, r] = f(null), e = l(null), n = l(null), u = c(() => {
    if (!n.current) {
      r(null);
      return;
    }
    const t = n.current - Date.now();
    t <= 0 ? (r(0), e.current && clearInterval(e.current)) : r(Math.ceil(t / 1e3));
  }, []), a = c(
    (t) => {
      e.current && clearInterval(e.current), n.current = Date.now() + t * 1e3, r(t), e.current = setInterval(u, 1e3);
    },
    [u]
  ), s = c(() => {
    e.current && clearInterval(e.current), r(null), n.current = null;
  }, []);
  return o(() => () => {
    e.current && clearInterval(e.current);
  }, []), { timeRemaining: i, start: a, reset: s };
};
export {
  I as useTimer
};
