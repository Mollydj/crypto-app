function u(t) {
  return typeof t == "object" && t !== null && "value" in t && (typeof t.value == "string" || typeof t.value == "number");
}
function p(t, e = "cdp-web") {
  const o = {};
  function n(r, c) {
    for (const l in r)
      if (Object.prototype.hasOwnProperty.call(r, l)) {
        const f = [...c, l], i = r[l];
        if (u(i)) {
          const y = f.join("-");
          o[y] = a(i, e);
        } else typeof i == "object" && i !== null && n(i, f);
      }
  }
  return n(t, []), o;
}
const s = (t, e) => t.startsWith("{") && t.endsWith("}") ? `var(--${e ? `${e}-` : ""}${t.slice(1, -1).replace(/\./g, "-")})` : t, a = (t, e) => {
  const o = typeof t.value == "number" ? `${t.value}px` : s(t.value, e);
  if (t.modify?.type === "color-alpha")
    return `color(from ${o} srgb r g b / ${t.modify.value ?? 1})`;
  if (t.modify?.type === "color-hsl") {
    const [n, r, c] = t.modify.value;
    return `hsl(from ${o} calc(h * ${n}) calc(s * ${r}) calc(l * ${c}))`;
  }
  if (t.modify?.type === "color-mix") {
    let n = o;
    return t.modify.value.forEach((r) => {
      if (typeof r == "string")
        n += `, ${s(r, e)}`;
      else {
        const [c, l] = r;
        n += `, ${s(c, e)} ${l}`;
      }
    }), `color-mix(in oklab, ${n})`;
  }
  return t.modify?.type === "multiply" ? `calc(${o} * ${t.modify.value})` : o;
}, m = (t) => Object.entries(t).reduce((e, [o, n]) => (e[`--cdp-web-${o}`] = n, e), {});
export {
  p as flattenTokensObject,
  m as themeToCssVariables
};
